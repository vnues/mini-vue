{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/dep.js","../../src/observer/array.js","../../src/observer/index.js","../../src/util/next-tick.js","../../src/observer/scheduler.js","../../src/observer/traverse.js","../../src/observer/watcher.js","../../src/state.js","../../src/vdom/vnode.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/compiler/parser-html.js","../../src/compiler/index.js","../../src/events.js","../../src/init.js","../../src/vdom/create-component.js","../../src/vdom/create-element.js","../../src/render.js","../../src/global-api/extend.js","../../src/global-api/assets.js","../../src/global-api/mixin.js","../../src/global-api/index.js","../../src/index.js"],"sourcesContent":["export function isObject(value) {\n    return value && typeof value === 'object'\n}\n\n\nexport function proxy(vm, source, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[source][key]\n        },\n        set(newValue) {\n            vm[source][key] = newValue\n        }\n    })\n}\n\nexport function noop() { }\n\n\nexport function def(data, key, value) {\n    Object.defineProperty(data, key, {\n        enumerable: false,\n        configurable: false,\n        value\n    })\n}\n\nexport const LIFECYCLE_HOOKS = [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestroy',\n    'destroyed',\n    'activated',\n    'deactivated',\n    'errorCaptured'\n]\n/**\n * ç­–ç•¥æ¨¡å¼çš„åº”ç”¨\n */\nconst strats = {};\n\n\n/**\n * ç»„ä»¶å±æ€§çš„åˆå¹¶ç­–ç•¥\n */\nfunction mergeAssets(parentVal, childVal) {\n    const res = Object.create(parentVal);\n    const keys = Object.keys(childVal)\n    if (childVal) {\n        for (let key in childVal) {\n            res[key] = childVal[key];\n        }\n    }\n    return res;\n}\nstrats.components = mergeAssets;\n\n/**\n * ç”Ÿå‘½å‘¨æœŸçš„åˆå¹¶ç­–ç•¥\n */\nfunction mergeHook(parentVal, childValue) {\n    if (childValue) {\n        if (parentVal) {\n            return parentVal.concat(childValue);\n        } else {\n            return [childValue]\n        }\n    } else {\n        return parentVal;\n    }\n}\nLIFECYCLE_HOOKS.forEach(hook => {\n    strats[hook] = mergeHook\n})\n\n/**\n * åˆå¹¶ç”¨æˆ·è‡ªå®šä¹‰ä¼ å…¥çš„optionsä¸ç»„ä»¶çš„options\n */\nexport function mergeOptions(parent, child) {\n    const options = {}\n    for (let key in parent) {\n\n        mergeField(key)\n\n    }\n    for (let key in child) {\n        if (!parent.hasOwnProperty(key)) {\n            mergeField(key);\n        }\n    }\n    function mergeField(key) {\n        if (key === '_base') {\n            options[key] = parent[key]\n            return\n        }\n        if (strats[key]) {\n            options[key] = strats[key](parent[key], child[key]);\n        } else {\n            if (typeof parent[key] === 'object' && typeof child[key] === 'object') {\n                options[key] = {\n                    ...parent[key],\n                    ...child[key]\n                }\n            } else {\n                if (child[key]) {\n                    options[key] = child[key];\n                    return\n                }\n                options[key] = parent[key]\n            }\n        }\n    }\n    return options\n}\n\n\n\nexport function isDef(v) {\n    return v !== undefined && v !== null\n}","\nlet id = 0\nclass Dep {\n    constructor() {\n        this.id = id++\n        this.subs = []\n    }\n\n    /**\n     * è§‚å¯Ÿç›®æ ‡å‘å¸ƒ\n     */\n    notify() {\n        this.subs.forEach((watcher) => {\n            watcher.update()\n        })\n    }\n    /**\n     * æä¾›æ³¨å†Œæ–¹æ³•ä¸€\n     */\n    addSub(watcher) {\n        this.subs.push(watcher)\n    }\n    /**\n     * æä¾›æ³¨å†Œæ–¹æ³•äºŒ\n     */\n    depend() {\n        if (Dep.target) {\n            Dep.target.addDep(this) // è®©watcherè‡ªå·±æŠŠè‡ªå·±å­˜æ”¾åˆ°depä¸Š\n        }\n    }\n}\n\n/**\n * ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿæ ˆ\n * ä¸ºä»€ä¹ˆè¿˜å¤šå£°æ˜äº†ä¸€ä¸ªæ ˆ ä¸ºäº†æ¥ä¸‹æ¥çš„è®¡ç®—å±æ€§âœï¸\n */\nlet stack = []\n\nexport function pushTarget(watcher) {\n    Dep.target = watcher\n    stack.push(watcher)\n}\n\nexport function popTarget() {\n    stack.pop()\n    Dep.target = stack[stack.length - 1]\n}\n\n\nexport default Dep","/**\n * Object.defineProperty æ˜¯æ–°å¢å’Œä¿®æ”¹å¯¹è±¡å±æ€§ âœ…æ³¨æ„æ˜¯å±æ€§\n * dataå¯¹è±¡çš„å±æ€§æœ‰åŸºæœ¬ç±»å‹ã€å¯¹è±¡ã€æ•°ç»„\n * å±æ€§çš„å˜åŒ–ä¹Ÿæ˜¯éœ€è¦è¢«ç›‘æ§åˆ°\n * æ”¹å˜æ•°ç»„çš„æ–¹å¼ api ä»¥åŠç´¢å¼•\n * é‡å†™æ•°ç»„çš„é‚£äº›æ–¹æ³• 7ä¸ª push shift unshift pop reverse sort splice ä¼šå¯¼è‡´æ•°ç»„æœ¬èº«å‘ç”Ÿå˜åŒ–\n */\n\n\n\nlet oldArrayMethods = Array.prototype\n\nexport const arrayMethods = Object.create(oldArrayMethods)\n\n\nconst methods = ['push', 'shift', 'unshift', 'pop', 'reverse', 'sort', 'splice']\n\n\nmethods.forEach(method => {\n    arrayMethods[method] = function (...args) {\n        let arrInstance = this\n        const result = oldArrayMethods[method].apply(this, args)\n        let inserted\n        let ob = arrInstance.__ob__\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args\n                break\n            case 'splice':\n                insert = args.slice(2)\n        }\n        if (inserted) {\n            ob.observerArray(inserted)\n        }\n        ob.dep.notify()\n        return result\n    }\n})","import { isObject, def } from '../util/index'\nimport Dep from './dep';\nimport { arrayMethods } from './array';\n\n\n/**\n * ä¾¦æµ‹ç­–ç•¥ï¼š\n * å¯¹äºæ•°ç»„ä¾¦æµ‹ ä¾¦æµ‹å…¶æ–¹æ³• ç´¢å¼•ä¸ä¾¦æµ‹ æ‰€ä»¥å¦‚æœæ˜¯[[[]]] å…¶ç´¢å¼•ä¸åœ¨ä¾¦æµ‹èŒƒå›´å†… æ‰€ä»¥ä¾èµ–æ”¶é›†å¾—ç‰¹æ®Šå¤„ç†\n * å¯¹äºå¯¹è±¡ ä¼šä¾¦æµ‹æ‰€æœ‰çš„ç†Ÿæ‚‰\n * å¦‚æœæ˜¯å±æ€§å¯¹è±¡ é€’å½’ç»™å±æ€§ç»‘å®š__ob__å±æ€§\n */\nclass Observer {\n    constructor(value) {\n        /**\n         * æ•°ç»„çš„ä¾èµ–æ”¶é›†\n         * [[[]],[]]\n         */\n        this.dep = new Dep()\n        /**\n         * åªæœ‰æ˜¯å¼•ç”¨ç±»å‹æ‰å…·æœ‰è¿™ä¸ªå±æ€§\n         * æ‰€ä»¥æˆ‘ä»¬ç»å¸¸ä¼šæ‰“å°çœ‹åˆ°dataçš„å±æ€§å¯¹è±¡å…·æœ‰__ob__\n         * __ob__ å°±æ˜¯oberverå®ä¾‹\n         */\n        def(value, '__ob__', this)\n        if (Array.isArray(value)) {\n            /**\n             * è¿›è¡Œé‡å†™è¦†ç›–\n             */\n            value.__proto__ = arrayMethods\n            this.observerArray(value)\n        } else {\n            this.walk(value)\n        }\n    }\n    /**\n     * [{}]\n     * å°†æ•°ç»„å…ƒç´ å¯¹è±¡è¿›è¡Œä¾¦æµ‹\n     * å¯¹äºæ•°ç»„å…ƒç´ è¿˜æ˜¯ä¸ºæ•°ç»„æˆ‘ä»¬å·²ç»é‡å†™è¿‡æ•°ç»„æ–¹æ³• ä¾¦æµ‹æ•°ç»„æ–¹æ³•å°±æ˜¯\n     * ç´¢å¼•ä¸è¿›è¡Œä¾¦æµ‹\n     * é€’å½’ç»™å±æ€§ç»‘å®š__ob__å±æ€§\n     */\n    observerArray(value) {\n        value.forEach((obj) => {\n            observe(obj)\n        })\n    }\n    walk(data) {\n        let keys = Object.keys(data)\n        keys.forEach(key => {\n            defineReactive(data, key, data[key])\n        });\n    }\n}\n\n/**\n * \n * @param {*} data \n * @param {*} key \n * @param {*} value dataå±æ€§çš„å€¼\n */\nexport function defineReactive(data, key, value) {\n    /**\n     * æ¯ä¸ªå±æ€§éƒ½ç»‘å®šä¸€ä¸ªdepå®ä¾‹\n     */\n    const dep = new Dep()\n    let childOb = observe(value) // é€’å½’å®ç°æ·±åº¦æ•°æ®ä¾¦æµ‹\n    Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: true,\n        get() {\n            /**\n             * åˆ©ç”¨é—­åŒ…è¿”å›æ•°æ®\n             * æ”¶é›†ä¾èµ– åƒä¸‡åˆ«data[key] æ— é™å¾ªç¯äº†\n             */\n            if (Dep.target) {\n                /**\n                 * æ¯æ¬¡è®¿é—®è¿™ä¸ªæ•°æ®éƒ½ä¼šè§¦å‘ å­˜åœ¨watcheræ‰æ”¶é›†\n                 */\n                dep.depend()\n                /**\n                 * å¦‚æœè®¿é—®çš„å±æ€§æ˜¯å¯¹è±¡\n                 */\n                if (childOb) {\n                    /**\n                     * æ”¶é›†æ•°ç»„çš„ä¾èµ–\n                     */\n                    childOb.dep.depend()\n                    if (Array.isArray(value)) {\n                        dependArray(value)\n                    }\n                }\n            }\n            return value\n        },\n        set(newValue) {\n            console.log(\"setter\", newValue)\n            /**\n             * æ´¾å‘æ›´æ–°\n             */\n            if (value === newValue) { return }\n            /**\n             * ä¿®æ”¹çš„æ•°æ®ä¹Ÿè¦è¿›è¡Œä¾¦æµ‹\n             */\n            observe(newValue)\n            value = newValue\n            dep.notify()\n        }\n    })\n}\n\n\n/**\n * ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ æ·»åŠ ä¾èµ–\n */\nfunction dependArray(value) {\n    for (let i = 0; i < value.length; i++) {\n        let current = value[i]\n        current.__ob__ && current.__ob__.dep.depend()\n        if (Array.isArray(current)) {\n            dependArray(current)\n        }\n    }\n}\n\nexport function observe(data) {\n    /**\n     * ä¼ é€’çš„å±æ€§ä¸æ˜¯å¯¹è±¡\n     * åˆ™ä¸ç”¨å†ç»§ç»­ä¾¦æµ‹\n     */\n    let isObj = isObject(data)\n    if (!isObj) {\n        return\n    }\n    return new Observer(data)\n}","\n/**\n * domçš„æ›´æ–°æ˜¯åŒæ­¥åœ¨vuejs1.0çš„æ—¶å€™\n * æˆ‘ä»¬æ‰§è¡Œdomæ›´æ–°åˆä¸æ˜¯è§£æHTML ä¸è¦å¼„æ··æ·†äº†\n * äº‹å®ä¸Šdomæ›´æ–°æ˜¯ä¹Ÿæ˜¯ä½¿ç”¨nextTick\n * Vue.js2.0ä½¿ç”¨å¼‚æ­¥æ›´æ–°é˜Ÿåˆ— \n * å˜åŒ–çš„ä¾¦æµ‹é€šçŸ¥åªå‘é€åˆ°ç»„ä»¶\n * ç»„ä»¶å†…æ‰€æœ‰çŠ¶æ€çš„å˜åŒ–éƒ½ä¼šé€šçŸ¥åˆ°åŒä¸€ä¸ªwatcher\n * ç„¶åä¼šå¯¹æ•´ä¸ªç»„ä»¶è¿›è¡Œæ›´æ–°\n * äº‹å®ä¸Šè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼‚æ­¥æ›´æ–° åšåˆ°æ‰¹é‡æ›´æ–° åæ­£æ•°æ®éƒ½æ˜¯æ”¹å˜å¥½äº† watcheråªæ˜¯é€šçŸ¥ä¾èµ–è¿›è¡Œæ›´æ–° ä»…æ­¤è€Œå·²\n */\n\nlet callbacks = [];\nfunction flushCallbacks() {\n    callbacks.forEach(cb => cb());\n}\nlet timerFunc;\nif (Promise) { // thenæ–¹æ³•æ˜¯å¼‚æ­¥çš„\n    timerFunc = () => {\n        Promise.resolve().then(flushCallbacks)\n    }\n} else if (MutationObserver) { // MutationObserver ä¹Ÿæ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•\n    let observe = new MutationObserver(flushCallbacks); // H5çš„api\n    let textNode = document.createTextNode(1);\n    /**\n     * ç›‘å¬domå˜åŒ–\n     * æ³¨å†Œäº‹ä»¶\n     */\n    (textNode, {\n        /**\n         * è®¾ä¸º true ä»¥ç›‘è§†æŒ‡å®šç›®æ ‡èŠ‚ç‚¹æˆ–å­èŠ‚ç‚¹æ ‘ä¸­èŠ‚ç‚¹æ‰€åŒ…å«çš„å­—ç¬¦æ•°æ®çš„å˜åŒ–ã€‚æ— é»˜è®¤å€¼ã€‚\n         */\n        characterData: true\n    });\n    timerFunc = () => {\n        /**\n         * å‘å¸ƒdomæ”¹å˜äº†\n         */\n        textNode.textContent = 2;\n    }\n} else if (setImmediate) {\n    timerFunc = () => {\n        setImmediate(flushCallbacks)\n    }\n} else {\n    timerFunc = () => {\n        setTimeout(flushCallbacks, 0);\n    }\n}\nexport function nextTick(cb) {\n    callbacks.push(cb);\n    timerFunc();\n}","import { nextTick } from '../util/next-tick'\n\n\nlet hash = {}\n\nlet queue = []\n\n\nfunction flushSchedulerQueue() {\n    for (let i = 0; i < queue.length; i++) {\n        let watcher = queue[i]\n        watcher.run()\n    }\n    hash = {}\n    queue = []\n}\n\nlet pending = false\n\nexport function queuWatcher(watcher) {\n    const id = watcher.id\n    if (!hash[id]) {\n        /**\n         * å› ä¸ºå¼‚æ­¥çš„åŸå› \n         * æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ—¶åˆ»æ‹¿åˆ°å¤šä¸ªç›¸åŒwatcher\n         * å¤šä¸ªç›¸åŒwatcheråˆå¹¶æˆä¸€ä¸ª\n         * åšåˆ°æ‰¹é‡æ›´æ–°\n         */\n        hash[id] = true\n        queue.push(watcher)\n        if (!pending) {\n            nextTick(flushSchedulerQueue)\n            pending = true\n        }\n    }\n}","\nconst seenObjects = new Set()\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nexport function traverse(val) {\n    _traverse(val, seenObjects)\n    seenObjects.clear()\n}\n\nfunction _traverse(val, seen) {\n    let i, keys\n    const isA = Array.isArray(val)\n    if ((!isA && !isObject(val))) {\n        return\n    }\n    if (val.__ob__) {\n        const depId = val.__ob__.dep.id\n        if (seen.has(depId)) {\n            return\n        }\n        seen.add(depId)\n    }\n    if (isA) {\n        i = val.length\n        while (i--) _traverse(val[i], seen)\n    } else {\n        keys = Object.keys(val)\n        i = keys.length\n        while (i--) _traverse(val[keys[i]], seen)\n    }\n}\n","import { pushTarget, popTarget } from \"./dep\"\nimport { queuWatcher } from \"./scheduler\"\nimport { traverse } from \"./traverse\"\n\n\n/**\n * åˆ›å»ºwatcherçš„è¿‡ç¨‹ä¸­\n * ä½ æƒ³è®©watcherå­˜å…¥è§‚å¯Ÿç›®æ ‡\n * å°±å¾—è§¦å‘ä¾èµ–æ”¶é›†çš„è¡Œä¸º\n */\nlet id = 0\nclass Watcher {\n    /**\n     * \n     * @param {*} vm vueå®ä¾‹\n     * @param {*} exprOrFn è§¦å‘æ”¶é›†ä¾èµ–çš„å‰ç½®æ“ä½œ\n     * @param {*} callback å›è°ƒå‡½æ•°\n     * @param {*} options é…ç½®\n     */\n    constructor(vm, exprOrFn, callback, options) {\n        if (options) {\n            this.user = !!options.user\n            this.sync = !!options.sync\n            this.lazy = !!options.lazy\n        } else {\n            this.deep = this.user = this.lazy = this.sync = false\n        }\n        this.vm = vm\n        this.callback = callback\n        this.options = options\n        this.deps = []\n        this.depsId = new Set()\n        if (typeof exprOrFn === 'function') {\n            this.getter = exprOrFn\n        } else {\n            /**\n             * è¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰newå®Œ\n             * åŒæ—¶Dep.targetä¹Ÿæ˜¯null\n             */\n            this.getter = function () {\n                let path = exprOrFn.split('.')\n                let obj = vm\n                for (let i = 0; i > path.length; i++) {\n                    obj = obj[path[i]]\n                }\n                return obj\n            }\n        }\n        this.value = this.get()\n\n        /**\n         * this.deep=!!options.deep\n         * é’ˆå¯¹äºç”¨æˆ·watcher\n         * å› ä¸ºæˆ‘ä»¬è¿™æ ·å¤„ç†æ˜¯ä¸€å±‚å±æ€§\n         * å¦‚æœæ·±å±‚çš„å­å±æ€§\n         * ä¹Ÿè¦æ”¶é›†watcher\n         * æ‰€ä»¥åœ¨è¿™æ—¶å€™æŒ¨ä¸ªè®¿é—®è¿™äº›å˜é‡è§¦å‘ä¾èµ–æ”¶é›†å°±è¡Œ\n         */\n\n    }\n    get() {\n        pushTarget(this)\n        const value = this.getter.call(this.vm)\n        if (this.deep) {\n            traverse(value)\n        }\n        popTarget()\n        return value\n    }\n    update() {\n        if (this.lazy) {\n            this.dirty = true;\n        } else if (this.sync) {\n            this.run\n        } else {\n            queuWatcher(this)\n        }\n    }\n    addDep(dep) {\n        let id = dep.id\n        /**\n         * watcherå»é‡\n         * ä¸€ä¸ªæ•°æ®å¤šæ¬¡å–å€¼\n         * æ‰€ä»¥è¯´è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡è€¦åˆå¾ˆå¤§\n         */\n        if (!this.depsId.has(id)) {\n            this.depsId.add(id)\n            this.deps.push(this)\n            dep.addSub(this)\n        }\n    }\n    run() {\n        console.log(\"è¿™é‡Œ\")\n        let value = this.get()\n        let oldValue = this.value\n        this.value = value\n        if (this.user) {\n            this.callback.call(this.vm, value, oldValue)\n        }\n    }\n    evaluate() {\n        this.value = this.get()\n        this.dirty = false\n    }\n    depend() {\n        let i = this.deps.length\n        while (i--) {\n            this.deps[i].depend()\n        }\n    }\n}\n\n\nexport default Watcher","/**\n * ä»€ä¹ˆæ˜¯state:\n * å°±æ˜¯data+computed+watchç­‰ç­‰\n */\n\nimport { observe } from \"./observer/index\";\nimport { proxy, isObject, noop } from \"./util/index\";\nimport Watcher from \"./observer/watcher\";\nimport { defineReactive } from \"./observer/index\";\n\nexport function initState(vm) {\n    const opts = vm.$options;\n    if (opts.props) {\n        initProps(vm);\n    }\n    if (opts.methods) {\n        initMethods(vm);\n    }\n    if (opts.data) {\n        initData(vm);\n    }\n    if (opts.computed) {\n        initComputed(vm, opts.computed);\n    }\n    if (opts.watch) {\n        initWatch(vm, opts.watch);\n    }\n}\n\nfunction initData(vm) {\n    let data = vm.$options.data;\n    data = vm._data = typeof data === \"function\" ? data.call(vm) : data;\n    for (let key in data) {\n        proxy(vm, \"_data\", key);\n    }\n    observe(data);\n}\n\nfunction initProps(vm, propsOptions) {\n    const props = (vm._props = {});\n    for (const key in propsOptions) {\n        defineReactive(props, key, propsOptions[key]);\n        if (!(key in vm)) {\n            proxy(vm, \"_props\", propsOptions[key]);\n        }\n    }\n}\n\n/**\n * ä¸æ˜¯è®©ä½ å®ç°\n * è€Œæ˜¯çœ‹vueå¦‚ä½•å®ç°\n */\nfunction initMethods(vm, methods) {\n    vm[key] = typeof methods[key] !== \"function\" ? noop : methods[key].bind(vm);\n}\n\nfunction initComputed(vm, computed) {\n\t/**\n\t * å­˜æ”¾è®¡ç®—å±æ€§çš„watcher\n\t */\n    const watchers = (vm._computedWatchers = {});\n    for (const key in computed) {\n        const uerDef = computed[key];\n\t\t/**\n\t\t * è·å–getæ–¹æ³•\n\t\t */\n        const getter = typeof userDef === \"function\" ? userDef : userDef.get;\n\t\t/**\n\t\t * åˆ›å»ºè®¡ç®—å±æ€§watcher\n\t\t */\n        watchers[key] = new Watcher(vm, userDef, noop, { lazy: true });\n        defineComputed(vm, key, userDef);\n    }\n}\n\nconst sharedPropertyDefinition = {\n    enumerable: true,\n    configurable: true,\n    get: noop,\n    set: noop,\n};\nfunction defineComputed(target, key, userDef) {\n    if (typeof userDef === \"function\") {\n        sharedPropertyDefinition.get = createComputedGetter(key);\n    } else {\n        sharedPropertyDefinition.get = createComputedGetter(userDef.get);\n        sharedPropertyDefinition.set = userDef.set;\n    }\n\t/**\n\t * ä½¿ç”¨definePropertyå®šä¹‰\n\t * æˆ‘ä»¬å¯ä»¥é€šè¿‡this.getNameè¿™ç§å½¢å¼è·å–å¾—åˆ°\n\t */\n    Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter(key) {\n    return function computedGetter() {\n        const watcher = this._computedWatchers[key];\n        if (watcher) {\n            if (watcher.dirty) {\n                // å¦‚æœdirtyä¸ºtrue\n                watcher.evaluate(); // è®¡ç®—å‡ºæ–°å€¼ï¼Œå¹¶å°†dirty æ›´æ–°ä¸ºfalse\n            }\n\t\t\t/**\n\t\t\t * åœ¨è¿™é‡Œç›¸å½“äºè§¦å‘äº†getteræ–¹æ³•\n\t\t\t * ä½†æ˜¯æˆ‘ä»¬çš„computed watcheræ˜¯dataå±æ€§æ•°æ®çš„ä¾èµ–\n\t\t\t * computedå±æ€§æœ¬èº«ä¾èµ–dataæ•°æ® æ‰€ä»¥computedæ•°æ®æ”¶é›†ä¾èµ–å®è´¨å°±æ˜¯dataå±æ€§æ¥æ”¶é›†ä¾èµ–ï¼ˆå…¶å®å°±æ˜¯æ”¶é›†æ¸²æŸ“watcherï¼‰\n\t\t\t * æ”¶é›†ä¾èµ–\n\t\t\t */\n            if (Dep.target) {\n                // è®¡ç®—å±æ€§åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ åˆ™å­˜åœ¨Dep.target\n\t\t\t\t/**\n\t\t\t\t * é€šè¿‡watcheræ‰¾åˆ°è¯¥å¯¹åº”çš„è§‚å¯Ÿç›®æ ‡ dep\n\t\t\t\t * depæŠŠä¾èµ–ï¼ˆè¿™æ—¶å€™æ˜¯æ¸²æŸ“watcherï¼‰æ”¶é›†èµ·æ¥\n\t\t\t\t */\n\t\t\t\t/**\n\t\t\t\t * æˆ‘ä»¬å¯ä»¥åœ¨ä¸šåŠ¡ä¸­æ‰‹åŠ¨åˆ›å»ºè§‚å¯Ÿè€… å®ç°æ•°æ®å˜åŒ–å°±æ›´æ–°\n\t\t\t\t * ä½†æ˜¯é€šå¸¸è¿™äº›åœºæ™¯éƒ½æœ‰watchä»£æ›¿äº† è€Œä¸”å¯¹åº”çš„æ“ä½œæ˜¯cb\n\t\t\t\t */\n\t\t\t\t/**\n                 * ä¸ºä»€ä¹ˆwatcherè¦æ”¶é›†dep\n                 * æˆ‘å›ç­”ä¸‹ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåˆ«äººè¯´è§‚å¯Ÿè€…æ¨¡å¼æ˜¯è€¦åˆçš„ å°±æ˜¯ä½“ç°åœ¨è¿™é‡Œ\n                 * å®ä¾‹åŒ–watcherä¹Ÿæœ‰ä¿å­˜å¯¹åº”çš„dep å› ä¸ºå®ƒè¦çŸ¥é“æ˜¯å“ªäº›depæ”¶é›†äº†ä»–\n                 * ç¬¬ä¸€æ˜¯ä¸ºäº†åšwatcherå»é‡ï¼ˆwatcheré‡Œé¢ä¼šä¿å­˜ä¸€ä¸ªdep Set è¿™ç§æ•°æ®ç»“æ„ï¼‰\n                 * ç¬¬äºŒæ˜¯é’ˆå¯¹äºè®¡ç®—å±æ€§computed å®é™…ä¸Šå®ƒå°±æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§watcherï¼ˆè§‚å¯Ÿè€…ï¼‰\n                 * ä½†å®ƒåŒæ—¶ä¹Ÿæ˜¯è§‚å¯Ÿç›®æ ‡(å› ä¸ºtemplateå¯èƒ½ä½¿ç”¨åˆ°å®ƒ) é‚£ä¹ˆè§‚å¯Ÿç›®æ ‡ä¹Ÿæ˜¯éœ€è¦æ”¶é›†å¯¹åº”çš„ä¾èµ–ï¼ˆæ”¶é›†watcherï¼Œè¿™é‡Œæ˜¯æ”¶é›†æ¸²æŸ“watcherï¼‰ï¼Œ\n                 * ä½†æ˜¯åˆå›è¿‡å¤´æ¥è¯´,computedå±æ€§å®é™…æ˜¯ä¾èµ–äºdataå±æ€§å˜åŒ–è€Œå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯å®é™…å¸®è®¡ç®—å±æ€§æ”¶é›†ä¾èµ–ä¹Ÿå°±æ˜¯å¸®dataå±æ€§æ”¶é›†ä¾èµ–ï¼Œè¿™æ—¶å€™å¦‚ä½•æ”¶é›†å‘¢ï¼Œ\n                 * å°±æ˜¯è¦ä½¿è¿™ä¸ªè®¡ç®—å±æ€§watcherä¿å­˜å¥½ä¹‹å‰çš„è§‚å¯Ÿç›®æ ‡Bï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆwatcherè¦ä¿å­˜dep æ­¤æ—¶è¿™ä¸ªè§‚å¯Ÿç›®æ ‡Bä¸ä»…æ”¶é›†äº†è®¡ç®—å±æ€§watcherï¼Œ\n                 * è€Œä¸”ä¼šé€šè¿‡è®¡ç®—å±æ€§watcheræ¥æ”¶é›†æ¸²æŸ“watcher\n                 */\n                watcher.depend();\n            }\n            return watcher.value;\n        }\n    };\n}\n\nfunction initWatch(vm, watch) {\n\t/**\n\t * watchä¼ å…¥çš„å‚æ•°å¤šç§å¤šæ ·\n\t * ç»Ÿä¸€éƒ½å¤„ç†æˆkey valueå½¢å¼\n\t */\n    const keys = Object.keys(watch);\n    keys.forEach((key) => {\n        const handler = watch[key];\n        if (Array.isArray(handler)) {\n            for (let i = 0; i > handler.length; i++) {\n\t\t\t\t/**\n\t\t\t\t * ä¸ºæ¯ä¸ªå›è°ƒéƒ½åˆ›å»ºä¸€ä¸ªwatcher\n\t\t\t\t */\n                createWatcher(vm, key, handler[i]);\n            }\n        } else {\n            createWatcher(vm, key, handler);\n        }\n    });\n}\n\nfunction createWatcher(vm, exprOrFn, handler, options) {\n\t/**\n\t * å¦‚æœæ˜¯å¯¹è±¡åˆ™æå–å‡½æ•°å’Œé…ç½®\n\t */\n    if (isObject(handler)) {\n        options = handler;\n        handler = handler.handler;\n    }\n    if (typeof handler === \"string\") {\n        handler = vm[handler];\n    }\n\t/**\n\t * watchçš„å®æ–°æ ¸å¿ƒå°±æ˜¯åˆ›å»ºç”¨æˆ·watcher\n\t * handlerå°±æ˜¯callback\n\t */\n    return vm.$watch(exprOrFn, handler, options);\n}\n\nexport function stateMixin(Vue) {\n    Vue.prototype.$watch = function (exprOrFn, cb, options = {}) {\n        options.user = true;\n\t\t/**\n\t\t * åˆ›å»ºç”¨æˆ·watcher\n\t\t */\n        const watcher = new Watcher(this, exprOrFn, cb, options);\n        if (options.immediate) {\n            cb.call(vm, watcher.value);\n        }\n    };\n}\n","export default function vnode(tag, data, key, children, text, componentOptions) {\n    return { tag, data, key, children, text, componentOptions }\n}\nexport function isSameVnode(oldVnode, newVnode) {\n    // å¦‚æœä¸¤ä¸ªäººçš„æ ‡ç­¾å’Œkey ä¸€æ ·æˆ‘è®¤ä¸ºæ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ è™šæ‹ŸèŠ‚ç‚¹ä¸€æ ·æˆ‘å°±å¯ä»¥å¤ç”¨çœŸå®èŠ‚ç‚¹äº†\n    return (oldVnode.tag === newVnode.tag) && (oldVnode.key === newVnode.key)\n}","/**\n * åˆ›å»ºçœŸå®çš„domæ–¹æ³•\n * createElmåˆ›å»ºçœŸå®çš„domèŠ‚ç‚¹ï¼ˆåŒ…å«æ–‡æœ¬èŠ‚ç‚¹ï¼‰\n * createComponent åˆ›å»ºçœŸå®çš„ç»„ä»¶domèŠ‚ç‚¹\n */\nimport { isSameVnode } from \"./vnode\";\n\nexport function patch(oldVnode, vnode) {\n\t/**\n\t * åˆ¤æ–­æ˜¯æ›´æ–°è¿˜æ˜¯è¦æ¸²æŸ“\n\t */\n    if (!oldVnode) {\n        return createElm(vnode);\n    } else {\n\t\t/**\n\t\t * åˆ¤æ–­æ˜¯çœŸå®çš„domèŠ‚ç‚¹\n\t\t */\n        const isRealElement = oldVnode.nodeType;\n        if (isRealElement) {\n            const oldElm = oldVnode; // div id=\"app\"\n            const parentElm = oldElm.parentNode; // body\n            let el = createElm(vnode);\n            parentElm.insertBefore(el, oldElm.nextSibling);\n            parentElm.removeChild(oldElm);\n            return el;\n        } else {\n\t\t\t/**\n\t\t\t * ä¸¤é¢—è™šæ‹Ÿdomè¿›è¡Œdiffæ¯”å¯¹\n             * è¾¹æ¯”å¯¹è¾¹æ›´æ–°\n\t\t\t */\n            console.log(\"3såå³å°†å¼€å§‹diffæ›´æ–°\");\n            patchVnode(oldVnode, vnode);\n        }\n    }\n\n    // é€’å½’åˆ›å»ºçœŸå®èŠ‚ç‚¹ æ›¿æ¢æ‰è€çš„èŠ‚ç‚¹\n}\nfunction createElm(vnode) {\n    // æ ¹æ®è™šæ‹ŸèŠ‚ç‚¹åˆ›å»ºçœŸå®çš„èŠ‚ç‚¹\n    let { tag, children, key, data, text } = vnode;\n    // æ˜¯æ ‡ç­¾å°±åˆ›å»ºæ ‡ç­¾\n    if (typeof tag === \"string\") {\n        // createElméœ€è¦è¿”å›çœŸå®èŠ‚ç‚¹\n        if (createComponent(vnode)) {\n            return vnode.componentInstance.$el;\n        }\n        vnode.el = document.createElement(tag);\n        updateProperties(vnode);\n        children.forEach((child) => {\n            // é€’å½’åˆ›å»ºå„¿å­èŠ‚ç‚¹ï¼Œå°†å„¿å­èŠ‚ç‚¹æ‰”åˆ°çˆ¶èŠ‚ç‚¹ä¸­\n            return vnode.el.appendChild(createElm(child));\n        });\n    } else {\n\t\t/**\n\t\t * è™šæ‹Ÿdomä¸Šæ˜ å°„ç€çœŸå®dom  æ–¹ä¾¿åç»­æ›´æ–°æ“ä½œ\n\t\t * ä¹Ÿå°±æ˜¯åœ¨è™šæ‹ŸèŠ‚ç‚¹çš„elå±æ€§å¯ä»¥æ‹¿åˆ°å…¶å¯¹åº”çš„çœŸå®èŠ‚ç‚¹\n\t\t */\n        vnode.el = document.createTextNode(text);\n    }\n    // å¦‚æœä¸æ˜¯æ ‡ç­¾å°±æ˜¯æ–‡æœ¬\n    return vnode.el;\n}\n/**\n * \n * åˆ›å»ºç”Ÿæˆæ–°çš„å±æ€§æˆ–è€…\n * å¤ç”¨æ ‡ç­¾,å¹¶ä¸”æ›´æ–°å±æ€§\n */\nfunction updateProperties(vnode, oldProps = {}) {\n    let newProps = vnode.data || {};\n    let domElement = vnode.el; //çœŸå®DOM\n    //å…ˆå¤„ç†æ ·å¼å¯¹è±¡\n    let oldStyle = oldProps.style || {};\n    let newStyle = newProps.style || {};\n    //å¦‚æœstyleå±æ€§åœ¨è€çš„æ ·å¼å¯¹è±¡é‡Œæœ‰ï¼Œæ–°çš„æ²¡æœ‰ï¼Œéœ€è¦åˆ é™¤ã€‚å¦‚æœè€çš„æ²¡æœ‰ï¼Œæ–°çš„æœ‰è¦æ·»åŠ ä¸Š\n    for (let oldAttrName in oldStyle) {\n        //oldStyle{color:'red',backgroundColor:'green'}\n        if (!newStyle[oldAttrName]) {\n            domElement.style[oldAttrName] = \"\";\n        }\n    }\n    //æŠŠè€çš„å±æ€§å¯¹è±¡ä¸­çš„æœ‰ï¼Œæ–°çš„å±æ€§å¯¹è±¡é‡Œæ²¡æœ‰çš„åˆ é™¤\n    for (let oldPropName in oldProps) {\n        if (!newProps[oldPropName]) {\n            delete domElement[oldPropName];\n        }\n    }\n\n    //æ·»åŠ çš„æ–°çš„å±æ€§\n    for (let newPropName in newProps) {\n        if (newPropName === \"style\") {\n            let styleObject = newProps.style; //æ‹¿å–æ–°çš„æ ·å¼å¯¹è±¡\n            for (let newAttrName in styleObject) {\n                domElement.style[newAttrName] = styleObject[newAttrName];\n            }\n        } else {\n            //ç›´æ¥ æ›´æ–° ç›´æ¥ æ‹¿ æ–°çš„å±æ€§å¯¹è±¡ä¸­å±æ€§çš„å€¼è¦†ç›–æ‰çœŸå®DOMçš„å±æ€§\n             domElement[newPropName] = newProps[newPropName];\n        }\n    }\n}\n\nexport function createComponent(vnode) {\n\t/**\n\t * è§¦å‘initæ–¹æ³•\n\t * ç”Ÿæˆç»„ä»¶çš„çœŸå®dom\n\t */\n    let i = vnode.data;\n    if ((i = i.hook) && (i = i.init)) {\n        i(vnode);\n    }\n    if (vnode.componentInstance) {\n        return true;\n    }\n}\n\n/**\n * æŠŠä¸€ä¸ªè™šæ‹ŸDOMèŠ‚ç‚¹å˜æˆçœŸå®DOMèŠ‚ç‚¹æŒ‚è½½åˆ°å®¹å™¨ä¸Š\n * @param {} vnode è™šæ‹ŸDOMèŠ‚ç‚¹\n * @param {*} container å®¹å™¨\n */\nexport function mount(vnode, container) {\n    let newDOMElement = createElm(vnode);\n    container.appendChild(newDOMElement);\n}\n//æ¯”è¾ƒè€çš„è™šæ‹ŸDOMèŠ‚ç‚¹å’Œæ–°çš„è™šæ‹ŸDOMèŠ‚ç‚¹\nexport function patchVnode(oldVnode, newVnode) {\n    //1.å¦‚æœæ–°çš„è™šæ‹ŸDOMèŠ‚ç‚¹ç±»å‹typeä¸ä¸€æ ·ï¼Œç›´æ¥é‡å»º\n    if (oldVnode.type !== newVnode.type) {\n        return oldVnode.el.parentNode.replaceChild(createElm(newVnode), oldVnode.el);\n    }\n    // å¦‚æœæ ‡ç­¾ä¸€è‡´ä½†æ˜¯ä¸å­˜åœ¨åˆ™æ˜¯æ–‡æœ¬èŠ‚ç‚¹\n    if (!oldVnode.tag) {\n        if (typeof newVnode.text !== \"undefined\") {\n            return (oldVnode.el.textContent = newVnode.text);\n        }\n    }\n\n\n    //å¦‚æœç±»å‹ä¸€æ ·ï¼Œè¦ç»§ç»­å¾€ä¸‹æ¯”è¾ƒ 1.æ¯”è¾ƒå±æ€§ 2æ¯”è¾ƒå®ƒçš„å„¿å­ä»¬\n    //pathå°±æ˜¯æ‰¾å‡ºæ–°çš„è™šæ‹ŸDOMèŠ‚ç‚¹å’Œè€çš„è™šæ‹ŸDOMçš„å·®å¼‚ï¼Œæ›´æ–°å½“å‰é¡µé¢ä¸Šçš„é‚£ä¸ªçœŸå®DOM\n    let el = (newVnode.el = oldVnode.el); //è€çš„çœŸå®DOMèŠ‚ç‚¹\n    //ä¼ å…¥æ–°çš„è™šæ‹ŸDOMèŠ‚ç‚¹å’Œè€çš„å±æ€§å¯¹è±¡ æ›´æ–°è€çš„çœŸå®DOMèŠ‚ç‚¹ä¸Šçš„å±æ€§\n    updateProperties(newVnode, oldVnode.data);\n    let oldChildren = oldVnode.children; //è€çš„è™šæ‹ŸDOMèŠ‚ç‚¹çš„å„¿å­æ•°ç»„\n    let newChildren = newVnode.children; //æ–°çš„è™šæ‹ŸDOMèŠ‚ç‚¹å„¿å­æ•°ç»„\n    if (oldChildren.length > 0 && newChildren.length > 0) {\n        updateChildren(el, oldChildren, newChildren);\n    } else if (oldChildren.length > 0) {\n        //è€çš„æœ‰å„¿å­ï¼Œæ–°çš„æ²¡å„¿å­\n        el.innerHTML = \"\";\n    } else if (newChildren.length > 0) {\n        //è€çš„æ²¡æœ‰å„¿å­ï¼Œæ–°çš„æœ‰å„¿å­\n        for (let i = 0; i < newChildren.length; i++) {\n            el.appendChild(createElm(newChildren[i]));\n        }\n    }\n}\nfunction createKeyToIndexMap(children) {\n    let map = {};\n    for (let i = 0; i < children.length; i++) {\n        let key = children[i].key;\n        if (key) {\n            map[key] = i;\n        }\n    }\n    return map;\n}\nfunction updateChildren(parentDomElement, oldChildren, newChildren) {\n    let oldStartIndex = 0,\n        oldStartVnode = oldChildren[0]; //è€çš„å¼€å§‹ç´¢å¼•å’Œè€çš„å¼€å§‹èŠ‚ç‚¹\n    let oldEndIndex = oldChildren.length - 1,\n        oldEndVnode = oldChildren[oldEndIndex]; //è€çš„ç»“æŸç´¢å¼•å’Œè€çš„ç»“æŸèŠ‚ç‚¹\n\n    let newStartIndex = 0,\n        newStartVnode = newChildren[0]; //æ–°çš„å¼€å§‹ç´¢å¼•å’Œæ–°çš„å¼€å§‹èŠ‚ç‚¹\n    let newEndIndex = newChildren.length - 1,\n        newEndVnode = newChildren[newEndIndex]; //æ–°çš„ç»“æŸç´¢å¼•å’Œæ–°çš„ç»“æŸèŠ‚ç‚¹\n    let oldKeyToIndexMap = createKeyToIndexMap(oldChildren);\n    //ä¸¤ä¸ªé˜Ÿåˆ—éƒ½æ²¡æœ‰å¾ªç¯ç»“æŸå°±è¦ç»§ç»­å¾ªç¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªç»“æŸï¼Œå°±åœæ­¢å¾ªç¯\n    while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\n        //è€çš„å¼€å§‹èŠ‚ç‚¹å’Œæ–°çš„å¼€å§‹èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ\n        if (!oldStartVnode) {\n            oldStartVnode = oldChildren[++oldStartIndex];\n        } else if (!oldEndVnode) {\n            oldEndVnode = oldChildren[--oldEndIndex];\n        } else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            //æ‰¾åˆ°newStartVnodeå’ŒoldStartVnodeçš„çš„å·®å¼‚ï¼Œå¹¶ä¸”æ›´æ–°åˆ°çœŸå®DOMä¸Šå»oldStartVnode.domElement\n            patchVnode(oldStartVnode, newStartVnode);\n            oldStartVnode = oldChildren[++oldStartIndex];\n            newStartVnode = newChildren[++newStartIndex];\n        } else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            patchVnode(oldEndVnode, newEndVnode);\n            oldEndVnode = oldChildren[--oldEndIndex];\n            newEndVnode = newChildren[--newEndIndex];\n        } else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            //è€çš„ç»“æŸå’Œæ–°çš„å¼€å§‹å¯¹åº”çš„æŠŠå°¾éƒ¨çš„å…ƒç´ ç§»åŠ¨åˆ°å¤´éƒ¨\n            patchVnode(oldEndVnode, newStartVnode);\n            parentDomElement.insertBefore(oldEndVnode.domElement, oldStartVnode.domElement);\n            oldEndVnode = oldChildren[--oldEndIndex];\n            newStartVnode = newChildren[++newStartIndex];\n        } else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            //è€çš„ç»“æŸå’Œæ–°çš„å¼€å§‹å¯¹åº”çš„æŠŠå°¾éƒ¨çš„å…ƒç´ ç§»åŠ¨åˆ°å¤´éƒ¨\n            patchVnode(oldStartVnode, newEndVnode);\n            parentDomElement.insertBefore(oldStartVnode.domElement, oldEndVnode.domElement.nextSi);\n            oldStartVnode = oldChildren[++oldStartIndex];\n            newEndVnode = newChildren[--newEndIndex];\n            //è¿›è¡ŒDOMç§»åŠ¨ æŠŠè€çš„å¼€å§‹çœŸå®DOMç§»åŠ¨çœŸå®DOMçš„å°¾éƒ¨\n        } else {\n            let oldIndexByKey = oldKeyToIndexMap[newStartVnode.key];\n            if (oldIndexByKey == null) {\n                parentDomElement.insertBefore(createElm(newStartVnode), oldStartVnode.domElement);\n            } else {\n                let oldVnodeToMove = oldChildren[oldIndexByKey];\n                if (oldVnodeToMove.type !== newStartVnode.type) {\n\t\t\t\t\t/**\n\t\t\t\t\t * åˆ é™¤é‡å»º\n\t\t\t\t\t */\n                    parentDomElement.insertBefore(createElm(newStartVnode), oldStartVnode.domElement);\n                } else {\n                    patchVnode(oldVnodeToMove, newStartVnode);\n                    oldChildren[oldIndexByKey] = undefined;\n                    parentDomElement.insertBefore(oldVnodeToMove.domElement, oldStartVnode.domElement);\n                }\n            }\n            newStartVnode = newChildren[++newStartIndex];\n        }\n    }\n    if (newStartIndex <= newEndIndex) {\n        //æ˜¯è€çš„é˜Ÿåˆ— å¤„ç†å®Œäº†ï¼Œæ–°çš„é˜Ÿåˆ—æ²¡å¤„ç†å®Œ\n        //æˆ‘è¦æŠŠè¿™ä¸ªèŠ‚ç‚¹æ’å…¥åˆ°è°çš„å‰é¢\n        let beforeDOMElement =\n            newChildren[newEndIndex + 1] == null ? null : newChildren[newEndIndex + 1].domElement;\n        for (let i = newStartIndex; i <= newEndIndex; i++) {\n            parentDomElement.insertBefore(createElm(newChildren[i]), beforeDOMElement);\n        }\n    }\n    if (oldStartIndex <= oldEndIndex) {\n        for (let i = oldStartIndex; i <= oldEndIndex; i++) {\n            parentDomElement.removeChild(oldChildren[i].domElement);\n        }\n    }\n}\n","import Watcher from './observer/watcher'\nimport { patch } from './vdom/patch'\nimport { noop } from './util/index'\n\n\n/**\n * è°ƒç”¨ç”Ÿå‘½å‘¨æœŸé’©å­\n */\nexport function callHook(vm, hook) {\n    const handlers = vm.$options[hook]\n    if (handlers) {\n        handlers.forEach((handler) => {\n            handler.call(vm)\n        })\n    }\n}\nexport function lifecyleMixin(Vue) {\n    Vue.prototype._update = function (vnode) {\n        const vm = this\n        const prevVnode = vm._vnode\n        vm._vnode = vnode\n        if (!prevVnode) {\n            /**\n             * ç¬¬ä¸€æ¬¡è¿›è¡Œæ¸²æŸ“é¡µé¢ä¸å­˜åœ¨prevVnode\n             * ç›´æ¥åˆ›å»ºçœŸå®çš„domå¹¶è¿›è¡ŒæŒ‚è½½\n             * è¿™ä¸ª$elæ˜¯çœŸå®çš„#app dom\n             */\n            vm.$el = patch(vm.$el, vnode)\n        } else {\n            /**\n             * æ›´æ–°æ—¶åšdiffæ“ä½œ\n             */\n            vm.$el = patch(prevVnode, vnode)\n        }\n    }\n}\n\nexport function mountComponent(vm, el) {\n    const options = vm.$options\n    vm.$el = el\n    let updateComponent = () => {\n        vm._update(vm._render())\n    }\n    /**\n     * ç”¨vueå¼€å‘åº”ç”¨\n     * è¿™ä¸ªå°±æ˜¯ç”±ç»„ä»¶æ­å»ºè€Œæˆçš„\n     * æ•°æ®ä¸€å˜åŒ– ä¸æ˜¯ç»†å¾®åˆ°æ›´æ–°æŸä¸ªdomèŠ‚ç‚¹\n     * è€Œæ˜¯ç»„ä»¶çº§åˆ«çš„æ›´æ–° å°±å¦‚updateComponentå‘½åä¸€æ ·\n     */\n    new Watcher(vm, updateComponent, noop, true) // trueè¡¨ç¤ºä»–æ˜¯ä¸€ä¸ªæ¸²æŸ“watcher\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // abc-aaa\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // <aaa:asdads>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // æ ‡ç­¾å¼€å¤´çš„æ­£åˆ™ æ•è·çš„å†…å®¹æ˜¯æ ‡ç­¾å\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // åŒ¹é…æ ‡ç­¾ç»“å°¾çš„ </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // åŒ¹é…å±æ€§çš„\nconst startTagClose = /^\\s*(\\/?)>/; // åŒ¹é…æ ‡ç­¾ç»“æŸçš„ >  <div>\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\n\nexport function parseHTML(html) {\n    let root = null; // astè¯­æ³•æ ‘çš„æ ‘æ ¹\n    let currentParent; // æ ‡è¯†å½“å‰çˆ¶äº²æ˜¯è°\n    let stack = [];\n    const ELEMENT_TYPE = 1;\n    const TEXT_TYPE = 3;\n\n    function createASTElement(tagName, attrs) {\n        return {\n            tag: tagName,\n            type: ELEMENT_TYPE,\n            children: [],\n            attrs,\n            parent: null\n        }\n    }\n    function start(tagName, attrs) {\n        // é‡åˆ°å¼€å§‹æ ‡ç­¾ å°±åˆ›å»ºä¸€ä¸ªastå…ƒç´ s\n        let element = createASTElement(tagName, attrs);\n        if (!root) {\n            root = element;\n        }\n        currentParent = element; // æŠŠå½“å‰å…ƒç´ æ ‡è®°æˆçˆ¶astæ ‘\n        stack.push(element); // å°†å¼€å§‹æ ‡ç­¾å­˜æ”¾åˆ°æ ˆä¸­\n    }\n    function chars(text) {\n        text = text.replace(/\\s/g, '');\n        if (text) {\n            currentParent.children.push({\n                text,\n                type: TEXT_TYPE\n            })\n        }\n    }\n    function end(tagName) {\n        let element = stack.pop(); // æ‹¿åˆ°çš„æ˜¯astå¯¹è±¡\n        // æˆ‘è¦æ ‡è¯†å½“å‰è¿™ä¸ªpæ˜¯å±äºè¿™ä¸ªdivçš„å„¿å­çš„\n        currentParent = stack[stack.length - 1];\n        if (currentParent) {\n            element.parent = currentParent;\n            currentParent.children.push(element); // å®ç°äº†ä¸€ä¸ªæ ‘çš„çˆ¶å­å…³ç³»\n        }\n    }\n    function parse(html) {\n        // ä¸åœçš„å»è§£æhtmlå­—ç¬¦ä¸²\n        while (html) {\n            let textEnd = html.indexOf('<');\n            if (textEnd === 0) {\n                // å¦‚æœå½“å‰ç´¢å¼•ä¸º0 è‚¯å®šæ˜¯ä¸€ä¸ªæ ‡ç­¾ å¼€å§‹æ ‡ç­¾ ç»“æŸæ ‡ç­¾\n                let startTagMatch = parseStartTag(); // é€šè¿‡è¿™ä¸ªæ–¹æ³•è·å–åˆ°åŒ¹é…çš„ç»“æœ tagName,attrs\n                if (startTagMatch) {\n                    start(startTagMatch.tagName, startTagMatch.attrs); // 1è§£æå¼€å§‹æ ‡ç­¾\n                    continue; // å¦‚æœå¼€å§‹æ ‡ç­¾åŒ¹é…å®Œæ¯•å ç»§ç»­ä¸‹ä¸€æ¬¡ åŒ¹é…\n                }\n                let endTagMatch = html.match(endTag);\n                if (endTagMatch) {\n                    advance(endTagMatch[0].length);\n                    end(endTagMatch[1]); // 2è§£æç»“æŸæ ‡ç­¾\n                    continue;\n                }\n            }\n            let text;\n            if (textEnd >= 0) {\n                text = html.substring(0, textEnd);\n            }\n            if (text) {\n                advance(text.length);\n                chars(text); // 3è§£ææ–‡æœ¬\n            }\n        }\n        function advance(n) {\n            html = html.substring(n);\n        }\n        function parseStartTag() {\n            let start = html.match(startTagOpen);\n            if (start) {\n                const match = {\n                    tagName: start[1],\n                    attrs: []\n                }\n                advance(start[0].length); // å°†æ ‡ç­¾åˆ é™¤\n                let end, attr;\n                while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                    // å°†å±æ€§è¿›è¡Œè§£æ\n                    advance(attr[0].length); // å°†å±æ€§å»æ‰\n                    match.attrs.push({\n                        name: attr[1],\n                        value: attr[3] || attr[4] || attr[5]\n                    });\n                }\n                if (end) { // å»æ‰å¼€å§‹æ ‡ç­¾çš„ >\n                    advance(end[0].length);\n                    return match\n                }\n            }\n        }\n        return root;\n    }\n    return parse(html)\n}\n\n","// astè¯­æ³•æ ‘ æ˜¯ç”¨å¯¹è±¡æ¥æè¿°åŸç”Ÿè¯­æ³•çš„   è™šæ‹Ÿdom ç”¨å¯¹è±¡æ¥æè¿°domèŠ‚ç‚¹çš„\n// ?: åŒ¹é…ä¸æ•è·\n// argumens[0] = åŒ¹é…åˆ°çš„æ ‡ç­¾  arguments[1] åŒ¹é…åˆ°çš„æ ‡ç­¾åå­—\nimport { parseHTML } from './parser-html';\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\nfunction genProps(attrs) { // å¤„ç†å±æ€§ æ‹¼æ¥æˆå±æ€§çš„å­—ç¬¦ä¸²\n    let str = '';\n    for (let i = 0; i < attrs.length; i++) {\n        let attr = attrs[i];\n        if (attr.name === 'style') {\n            // style=\"color: red;fontSize:14px\" => {style:{color:'red'},id:name,}\n            let obj = {};\n            attr.value.split(';').forEach(item => {\n                let [key, value] = item.split(':');\n                obj[key] = value\n            });\n            attr.value = obj;\n        }\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\n    }\n    return `{${str.slice(0, -1)}}`\n}\nfunction genChildren(el) {\n    let children = el.children;\n    if (children && children.length > 0) {\n        return `${children.map(c => gen(c)).join(',')}`\n    } else {\n        return false;\n    }\n}\nfunction gen(node) {\n    if (node.type == 1) {\n        // å…ƒç´ æ ‡ç­¾\n        return generate(node);\n    } else {\n        let text = node.text; //   <div>a {{  name  }} b{{age}} c</div>\n        let tokens = [];\n        let match, index;\n        // æ¯æ¬¡çš„åç§»é‡ buffer.split()\n        let lastIndex = defaultTagRE.lastIndex = 0; // åªè¦æ˜¯å…¨å±€åŒ¹é… å°±éœ€è¦å°†lastIndexæ¯æ¬¡åŒ¹é…çš„æ—¶å€™è°ƒåˆ°0å¤„\n        while (match = defaultTagRE.exec(text)) {\n            index = match.index;\n            if (index > lastIndex) {\n                tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n            }\n            tokens.push(`_s(${match[1].trim()})`);\n            lastIndex = index + match[0].length;\n        }\n        if (lastIndex < text.length) {\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\n        }\n        return `_v(${tokens.join('+')})`;\n    }\n}\nfunction generate(el) { // [{name:'id',value:'app'},{}]  {id:app,a:1,b:2}\n    let children = genChildren(el);\n    let code = `_c(\"${el.tag}\",${\n        el.attrs.length ? genProps(el.attrs) : 'undefined'\n        }${\n        children ? `,${children}` : ''\n        })\n    `\n    return code;\n}\nexport function compileToFunction(template) {\n    // 1) è§£æhtmlå­—ç¬¦ä¸² å°†htmlå­—ç¬¦ä¸² => astè¯­æ³•æ ‘\n    let root = parseHTML(template);\n    // éœ€è¦å°†astè¯­æ³•æ ‘ç”Ÿæˆæœ€ç»ˆçš„renderå‡½æ•°  å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ ï¼ˆæ¨¡æ¿å¼•æ“ï¼‰\n    let code = generate(root);\n    // æ ¸å¿ƒæ€è·¯å°±æ˜¯å°†æ¨¡æ¿è½¬åŒ–æˆ ä¸‹é¢è¿™æ®µå­—ç¬¦ä¸²\n    //  <div id=\"app\"><p>hello {{name}}</p> hello</div>\n    // å°†astæ ‘ å†æ¬¡è½¬åŒ–æˆjsçš„è¯­æ³•\n    //  _c(\"div\",{id:app},_c(\"p\",undefined,_v('hello' + _s(name) )),_v('hello'))\n\n    // æ‰€æœ‰çš„æ¨¡æ¿å¼•æ“å®ç° éƒ½éœ€è¦new Function + with\n    /**\n     * ä¼ thisæ˜¯ç»‘å®šä½œç”¨åŸŸ\n     */\n    let renderFn = new Function(`with(this){ return ${code}}`);\n\n\n    // vueçš„render ä»–è¿”å›çš„æ˜¯è™šæ‹Ÿdom\n    return renderFn;\n}\n","export function eventsMixin(Vue) {\n\t/**\n\t * éå†å®ä¾‹çš„æ‰€æœ‰äº‹ä»¶\n\t * @param vm {Bue} bueå®ä¾‹\n\t * @param action {String} åŠ¨ä½œç±»å‹,æ­¤å¤„ä¸º'$on',ä»£è¡¨ç»‘å®šäº‹ä»¶\n\t * @param events {Object} äº‹ä»¶å¯¹è±¡,å¯èƒ½åŒ…å«å¤šä¸ªäº‹ä»¶, æ‰€ä»¥éœ€è¦éå†\n\t */\n    /**\n * Vueæ³¨å†Œè‡ªå®šä¹‰äº‹ä»¶é€šè¿‡$onè¿›è¡Œæ³¨å†Œ\n * æ³¨å†Œäº‹ä»¶åŠå…¶å›è°ƒå‡½æ•°åˆ°å®ä¾‹ä¸Š\n * @param event {String} äº‹ä»¶åç§°\n * @param fn {Function} äº‹ä»¶å¯¹åº”çš„å›è°ƒå‡½æ•°\n * @returns {Bue} å®ä¾‹æœ¬èº«\n */\n    Vue.prototype.$on = function (event, fn) {\n        (this._events[event] || (this._events[event] = [])).push(fn);\n        return this;\n    };\n    Vue.prototype.$emit = function (event, val) {\n        let cbs = this._events[event];\n        let shouldPropagate = true;\n        if (cbs) {\n            shouldPropagate = false;\n            // éå†æ‰§è¡Œäº‹ä»¶\n            let args = new Array(Array.from(arguments)[1]);\n            cbs.forEach((cb) => {\n                let res = cb.apply(this, args);\n                // å°±æ˜¯è¿™é‡Œ, å†³å®šäº†\"åªæœ‰å½“eventsäº‹ä»¶è¿”å›trueçš„æ—¶å€™, äº‹ä»¶æ‰èƒ½åœ¨è§¦å‘ä¹‹åä¾ç„¶ç»§ç»­ä¼ æ’­\"\n                if (res === true) {\n                    shouldPropagate = true;\n                }\n            });\n        }\n        return shouldPropagate;\n    };\n\n}\n\n/**\n * æ³¨å†Œå•ä¸ªäº‹ä»¶\n * @param vm {Bue} bueå®ä¾‹\n * @param action {String} åŠ¨ä½œç±»å‹,æ­¤å¤„ä¸º'$on',ä»£è¡¨ç»‘å®šäº‹ä»¶\n * @param key {String} äº‹ä»¶åç§°, æ¯”å¦‚: 'parent-name',ä»£è¡¨ä»çˆ¶ç»„ä»¶é‚£é‡Œä¼ é€’äº†åç§°è¿‡æ¥\n * @param event {Function} è§¦å‘keyäº‹ä»¶çš„æ—¶å€™, å¯¹åº”çš„å›è°ƒå‡½æ•°\n */\nfunction register(vm, action, key, event) {\n    if (typeof event !== \"function\") return;\n    vm[action](key, event);\n}\n\n\n\nfunction registerCallbacks(vm, action, events) {\n    if (!events) return;\n    for (let key in events) {\n        let event = events[key];\n        register(vm, action, key, event);\n    }\n\n}\n\nexport function initEvents(vm) {\n    vm._events = Object.create(null)\n    registerCallbacks(this, \"$on\", vm._events);\n};","import { initState } from './state'\nimport { mountComponent, callHook } from './lifecycle'\nimport { compileToFunction } from './compiler/index'\nimport { mergeOptions } from './util/index'\nimport { initEvents } from './events'\n\n/**\n * åˆå§‹åŒ–æ··å…¥åŸå‹ä¸Šçš„æ–¹æ³•\n */\nexport default function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        /**\n         * ä¹‹æ‰€ä»¥è¿™æ ·å†™ æ˜¾ç¤ºçŸ¥é“thisçš„æŒ‡å‘\n         */\n        const vm = this\n        /**\n         * å¯èƒ½é€šè¿‡extendæ–¹å¼ æ‰€ä»¥ä½¿ç”¨vm.constructor.options\n         * è€Œä¸ç›´æ¥Vue.options\n         */\n        vm.$options = mergeOptions(vm.constructor.options, options);\n        /**\n         * åˆå§‹åŒ–çŠ¶æ€\n         */\n        initState(vm)\n        initEvents(vm)\n        callHook(vm, 'created')\n        /***\n         * æŒ‚è½½æµç¨‹\n         */\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el)\n        }\n    }\n\n    Vue.prototype.$mount = function (el) {\n        const vm = this\n        const options = vm.$options\n        el = document.querySelector(el)\n        /**\n         * å•æ–‡ä»¶ç»„ä»¶åˆ©ç”¨vue-loaderä¼šå¸®æˆ‘ä»¬è§£ææˆrenderçš„\n         */\n        /**\n         * vmå®ä¾‹çš„optionsé…ç½®\n         * ä¸€ä¸ªç»„ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªvmå®ä¾‹\n         * æ‰€ä»¥ç»„ä»¶ç”Ÿæˆçš„çœŸå®domæ‹¿åˆ°templateå°±è¡Œ\n         * <my-component>\n         *    <div>\n         *    </div>\n         * </my-component>\n         * ä¸è¦æƒ³è±¡æˆä¸Šé¢ğŸ‘†è¿™ç§ç»“æ„ ç›´æ¥æ‹¿åˆ°templateè§£æå°±è¡Œ\n         * æ ¹æœ¬ä¸éœ€è¦è€ƒè™‘<my-component>\n         */\n        let template = options.template\n        /**\n         * å¦‚æœæ²¡å†™templateå±æ€§ å»htmlæ‹¿\n         */\n        if (!template && el) {\n            template = el.outerHTML\n        }\n        /**\n         * compileToFunctionæ˜¯å°†æ¨¡æ¿ç¼–è¯‘ä¸ºJSè¯­æ³•\n         * æ‰§è¡Œrender===>å¾—åˆ°vnode\n         */\n        const render = compileToFunction(template)\n        options.render = render\n        /**\n         * æ¸²æŸ“å½“å‰çš„ç»„ä»¶\n         */\n        mountComponent(vm, el)\n    }\n}\n\n\n\n/**\n * åˆ›å»ºvueå®ä¾‹çš„æ—¶å€™æˆ‘ä»¬åŒæ—¶æ˜¯å¯ä»¥æ‹¿åˆ°çœŸå®çš„dom\n * è¿™ç‚¹å¾—çŸ¥é“ å¯ä»¥vm.$elä¸Šæ‹¿åˆ°\n */","import vnode from './vnode'\nimport { isObject } from \"../util/index\";\n\n/**\n * åˆ›å»ºç»„ä»¶è™šæ‹ŸdomèŠ‚ç‚¹createComponent\n */\nexport function createComponent(vm, tag, data, key, children, Ctor) {\n    // è·å–çˆ¶ç±»æ„é€ å‡½æ•°\n    const baseCtor = vm.$options._base;\n    if (isObject(Ctor)) {\n        Ctor = baseCtor.extend(Ctor);\n    }\n    data.hook = { // ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­\n        init(vnode) {\n            let child = vnode.componentInstance = new Ctor({});\n            /**\n             * vnode.componentInstanceå°±æ˜¯vmå®ä¾‹\n             * æ‰§è¡Œ$mountæ–¹æ³•ä¼šå°†çœŸå®domæŒ‚è½½åœ¨vm.$el\n             * æˆ‘ä»¬å¯ä»¥é€šè¿‡vnode.componentInstance.$elæ‹¿åˆ°\n             */\n            child.$mount(); // ç»„ä»¶çš„æŒ‚è½½\n        }\n    }\n    return vnode(`vue-component-${Ctor.cid}-${tag}`, data, key, undefined, { Ctor, children });\n}\n","/**\n * åˆ›å»ºè™šæ‹Ÿdomçš„æ–¹æ³•\n * createElementåˆ›å»ºæ ‡ç­¾è™šæ‹Ÿdomæ–¹æ³•\n * createTextNodeåˆ›å»ºæ–‡æœ¬è™šæ‹Ÿdomæ–¹æ³•\n */\n\nimport { createComponent } from './create-component'\nimport vnode from './vnode'\n\n\nfunction makeMap(str) {\n    const map = {};\n    const list = str.split(',');\n    for (let i = 0; i < list.length; i++) {\n        map[list[i]] = true;\n    }\n    return (key) => map[key];\n}\n\nexport const isReservedTag = makeMap(\n    'html,body,base,head,link,meta,style,title,' +\n    'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n    'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n    'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n    's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n    'embed,object,param,source,canvas,script,noscript,del,ins,' +\n    'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n    'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n    'output,progress,select,textarea,' +\n    'details,dialog,menu,menuitem,summary,' +\n    'content,element,shadow,template,blockquote,iframe,tfoot'\n)\n\n\n/**\n * ä¸ç”¨é€’å½’å»åˆ›å»º å› ä¸ºASTè½¬åŒ–ä¸ºJSè¯­æ³•çš„æ—¶å€™æ˜¯è¿™æ ·è°ƒç”¨çš„_c(...)\n */\nexport function createElement(context, tag, data = {}, ...children) {\n    let key = data.key;\n    if (key) {\n        delete data.key;\n    }\n    if (typeof tag === 'string') {\n        if (isReservedTag(tag)) {\n            return vnode(tag, data, key, children, undefined);\n        } else {\n            /**\n             * åˆ¤æ–­æ˜¯ç»„ä»¶\n             * å¦‚æœæ˜¯ç»„ä»¶éœ€è¦æ‹¿åˆ°ç»„ä»¶å®šä¹‰çš„ï¼Œé€šè¿‡ç»„ä»¶çš„å®šä¹‰åˆ›é€ è™šæ‹ŸèŠ‚ç‚¹\n             */\n            let Ctor = context.$options.components[tag]\n            return createComponent(context, tag, data, key, children, Ctor)\n        }\n    }\n    return vnode(tag, data, key, children, undefined);\n}\nexport function createTextNode(text) {\n    return vnode(undefined, undefined, undefined, undefined, text);\n}\n\n\n","import {\n    createElement,\n    createTextNode\n} from './vdom/create-element'\nimport { nextTick } from './util/next-tick';\nexport function renderMixin(Vue) {\n    // _c åˆ›å»ºå…ƒç´ çš„è™šæ‹ŸèŠ‚ç‚¹\n    // _v åˆ›å»ºæ–‡æœ¬çš„è™šæ‹ŸèŠ‚ç‚¹\n    // _s JSON.stringify\n\n    Vue.prototype._c = function () {\n        return createElement(this, ...arguments); // tag,data,children1,children2\n    }\n    Vue.prototype._v = function (text) {\n        return createTextNode(text);\n    }\n    Vue.prototype._s = function (val) {\n        return val == null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val);\n    }\n    Vue.prototype._render = function () {\n        const vm = this;\n        const {\n            render\n        } = vm.$options;\n        let vnode = render.call(vm); // å»å®ä¾‹ä¸Š å–å€¼\n        return vnode;\n    }\n    Vue.prototype.$nextTick = function (fn) {\n        return nextTick(fn, this)\n    }\n}","import { mergeOptions } from '../util/index'\nexport default function initExtend(Vue) {\n    let cid = 0;\n    Vue.extend = function (extendOptions) {\n        const Super = this;\n        const Sub = function VueComponent(options) {\n            this._init(options)\n        }\n        Sub.cid = cid++;\n        Sub.prototype = Object.create(Super.prototype);\n        Sub.prototype.constructor = Sub;\n        Sub.options = mergeOptions(\n            Super.options,\n            extendOptions\n        );\n        return Sub\n    }\n}","export default function initAssetRegisters(Vue) {\n    Vue.component = function (id, definition) {\n        definition.name = definition.name || id\n        /**\n         * ç”Ÿæˆä¸€ä¸ªæ–°çš„ç»„ä»¶ç±»\n         */\n        definition = this.options._base.extend(definition)\n        this.options['components'][id] = definition\n    }\n}","import { mergeOptions } from '../util/index'\n\n\nexport function initMixin(Vue) {\n    Vue.mixin = function (mixin) {\n        /**\n         * è¿™é‡Œçš„thisæŒ‡ä»£Vue\n         */\n        /**\n         * mergeOptionsåˆå¹¶ç­–ç•¥\n         * ç”Ÿå‘½å‘¨æœŸé€šè¿‡æ•°ç»„å½¢å¼è¿›è¡Œconcat\n         * å¦‚æœå±æ€§æ˜¯å¯¹è±¡ åˆ™åˆå¹¶ä¸¤ä¸ªå¯¹è±¡\n         * å…¶å®ƒåˆ™ç›´æ¥æ›¿ä»£\n         */\n        /**\n         * ä¹‹æ‰€ä»¥è¿™æ ·å¤„ç†\n         * è€ƒè™‘å¤šæ¬¡è°ƒç”¨Vue.mixinçš„æƒ…å†µ\n         * ç„¶åmergeOptionsä¹Ÿä¼šåœ¨_init åˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨ å°†Vueæ„é€ å‡½æ•°çš„optionsæ˜¯å®ä¾‹åŒ–çš„optionsè¿›è¡Œåˆå¹¶ \n         * åˆå¹¶ç­–ç•¥æ˜¯ä¸€è‡´çš„\n         * è¿™å°±æ˜¯mixinçš„åŸç†\n         */\n        this.options = mergeOptions(this.options, mixin)\n        return this\n    }\n}\n","import { mergeOptions } from '../util/index'\nimport initExtend from './extend'\nimport initAssetRegisters from './assets'\nimport { initMixin } from './mixin'\n\n\nexport function initGlobalAPI(Vue) {\n    Vue.options = {}\n    initMixin(Vue)\n    /**\n     * _baseå°±æ˜¯Vueçš„æ„é€ å‡½æ•°\n     */\n    Vue.options._base = Vue;\n    Vue.options.components = {}\n    /**\n     * æ³¨å†ŒAPIæ–¹æ³•\n     */\n    initExtend(Vue)\n    initAssetRegisters(Vue)\n}\n\n","import initMixin from './init'\nimport { renderMixin } from './render'\nimport { lifecyleMixin } from './lifecycle'\nimport { initGlobalAPI } from './global-api/index'\nimport { stateMixin } from './state'\nimport { eventsMixin } from './events'\nfunction Vue(options) {\n    /**\n     * è¿›è¡Œåˆå§‹åŒ–\n     */\n    this._init(options)\n}\n\n/**\n * æ¨¡å—åŒ–æ€æƒ³\n * æ‹†åˆ†å¤šä¸ªæµç¨‹åˆ°ä¸åŒæ–‡ä»¶ä¸Š\n */\ninitMixin(Vue)\nstateMixin(Vue)\neventsMixin(Vue)\nlifecyleMixin(Vue)\nrenderMixin(Vue)\ninitGlobalAPI(Vue)\n\n/**\n * æ‰§è¡Œæµç¨‹ï¼š\n * new Vue ===> init===> $mount(æ‰§è¡ŒæŒ‚è½½å‡½æ•° å†…éƒ¨å°±ç»§ç»­èµ°ä¸‹é¢çš„ compile ===> render ===> vnode===> patch ===> DOM)\n */\nexport default Vue\n\n\n"],"names":["isObject","value","proxy","vm","source","key","Object","defineProperty","get","set","newValue","noop","def","data","enumerable","configurable","LIFECYCLE_HOOKS","strats","mergeAssets","parentVal","childVal","res","create","components","mergeHook","childValue","concat","forEach","hook","mergeOptions","parent","child","options","mergeField","hasOwnProperty","id","Dep","subs","watcher","update","push","target","addDep","stack","pushTarget","popTarget","pop","length","oldArrayMethods","Array","prototype","arrayMethods","methods","method","arrInstance","args","result","apply","inserted","ob","__ob__","insert","slice","observerArray","dep","notify","Observer","isArray","__proto__","walk","obj","observe","keys","defineReactive","childOb","depend","dependArray","console","log","i","current","isObj","callbacks","flushCallbacks","cb","timerFunc","Promise","resolve","then","MutationObserver","textNode","document","createTextNode","textContent","setImmediate","setTimeout","nextTick","hash","queue","flushSchedulerQueue","run","pending","queuWatcher","seenObjects","Set","traverse","val","_traverse","clear","seen","isA","depId","has","add","Watcher","exprOrFn","callback","user","sync","lazy","deep","deps","depsId","getter","path","split","call","dirty","addSub","oldValue","initState","opts","$options","props","initProps","initMethods","initData","computed","initComputed","watch","initWatch","_data","propsOptions","_props","bind","watchers","_computedWatchers","uerDef","userDef","defineComputed","sharedPropertyDefinition","createComputedGetter","computedGetter","evaluate","handler","createWatcher","$watch","stateMixin","Vue","immediate","vnode","tag","children","text","componentOptions","isSameVnode","oldVnode","newVnode","patch","createElm","isRealElement","nodeType","oldElm","parentElm","parentNode","el","insertBefore","nextSibling","removeChild","patchVnode","createComponent","componentInstance","$el","createElement","updateProperties","appendChild","oldProps","newProps","domElement","oldStyle","style","newStyle","oldAttrName","oldPropName","newPropName","styleObject","newAttrName","init","type","replaceChild","oldChildren","newChildren","updateChildren","innerHTML","createKeyToIndexMap","map","parentDomElement","oldStartIndex","oldStartVnode","oldEndIndex","oldEndVnode","newStartIndex","newStartVnode","newEndIndex","newEndVnode","oldKeyToIndexMap","nextSi","oldIndexByKey","oldVnodeToMove","undefined","beforeDOMElement","callHook","handlers","lifecyleMixin","_update","prevVnode","_vnode","mountComponent","updateComponent","_render","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","root","currentParent","ELEMENT_TYPE","TEXT_TYPE","createASTElement","tagName","attrs","start","element","chars","replace","end","parse","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","item","JSON","stringify","genChildren","c","gen","join","node","generate","tokens","index","lastIndex","exec","trim","code","compileToFunction","template","renderFn","Function","eventsMixin","$on","event","fn","_events","$emit","cbs","shouldPropagate","from","arguments","register","action","registerCallbacks","events","initEvents","initMixin","_init","constructor","$mount","querySelector","outerHTML","render","Ctor","baseCtor","_base","extend","cid","makeMap","list","isReservedTag","context","renderMixin","_c","_v","_s","$nextTick","initExtend","extendOptions","Super","Sub","VueComponent","initAssetRegisters","component","definition","mixin","initGlobalAPI"],"mappings":"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"}